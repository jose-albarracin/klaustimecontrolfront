import{S as he,i as ge,s as be,T as U,U as F,e as v,t as pe,k as P,w as N,c as h,a as g,h as me,d as m,m as A,x as O,b as c,g as $e,M as i,y as C,I as ye,V as Ee,W as z,q as G,o as H,B as K,v as Ie,K as we}from"../chunks/index-19f775f8.js";import{a as ce,u as Ve}from"../chunks/login-868b565c.js";import{I as R,i as De}from"../chunks/inputs-cc0c41a8.js";import"../chunks/index-3cd74ee4.js";import"../chunks/inline-svg-44d6d57a.js";function qe(t){let r,n,u,a,j,$,l,y,d,s,k,E,p,B,w,I,f,V,W,q,b,J,Q,S,D,X,M,Y,Z;function de(e){t[1](e)}let ee={class:"mb-4",label:"First Name",name:"first_name",type:"text",minLength:"3"};t[0].first_name!==void 0&&(ee.value=t[0].first_name),d=new R({props:ee}),U.push(()=>F(d,"value",de));function fe(e){t[2](e)}let te={class:"mb-4",label:"Last Name",name:"last_name",type:"text",minLength:"3"};t[0].last_name!==void 0&&(te.value=t[0].last_name),p=new R({props:te}),U.push(()=>F(p,"value",fe));function _e(e){t[3](e)}let ae={class:"mb-4",label:"Email",name:"email",type:"email",minLength:"3",disabled:!0};t[0].email!==void 0&&(ae.value=t[0].email),f=new R({props:ae}),U.push(()=>F(f,"value",_e));function ve(e){t[4](e)}let se={class:"mb-4",label:"Phone",name:"phone",type:"number",minLength:"3"};return t[0].phone!==void 0&&(se.value=t[0].phone),b=new R({props:se}),U.push(()=>F(b,"value",ve)),{c(){r=v("div"),n=v("div"),u=v("h1"),a=pe("Profile"),j=P(),$=v("div"),l=v("form"),y=v("div"),N(d.$$.fragment),k=P(),E=v("div"),N(p.$$.fragment),w=P(),I=v("div"),N(f.$$.fragment),W=P(),q=v("div"),N(b.$$.fragment),Q=P(),S=v("div"),D=v("button"),X=pe("Update"),this.h()},l(e){r=h(e,"DIV",{class:!0});var _=g(r);n=h(_,"DIV",{class:!0});var x=g(n);u=h(x,"H1",{class:!0});var T=g(u);a=me(T,"Profile"),T.forEach(m),x.forEach(m),j=A(_),$=h(_,"DIV",{class:!0});var L=g($);l=h(L,"FORM",{class:!0});var o=g(l);y=h(o,"DIV",{class:!0});var ne=g(y);O(d.$$.fragment,ne),ne.forEach(m),k=A(o),E=h(o,"DIV",{class:!0});var le=g(E);O(p.$$.fragment,le),le.forEach(m),w=A(o),I=h(o,"DIV",{class:!0});var ie=g(I);O(f.$$.fragment,ie),ie.forEach(m),W=A(o),q=h(o,"DIV",{class:!0});var oe=g(q);O(b.$$.fragment,oe),oe.forEach(m),Q=A(o),S=h(o,"DIV",{class:!0});var re=g(S);D=h(re,"BUTTON",{class:!0,type:!0});var ue=g(D);X=me(ue,"Update"),ue.forEach(m),re.forEach(m),o.forEach(m),L.forEach(m),_.forEach(m),this.h()},h(){c(u,"class","text-secondary text-3xl font-bold"),c(n,"class","flex justify-start my-12 pb-6 border-b-[1px] border-tertiary/30"),c(y,"class","col-span-1 md:col-span-6"),c(E,"class","col-span-1 md:col-span-6"),c(I,"class","col-span-1 md:col-span-6"),c(q,"class","col-span-1 md:col-span-6"),c(D,"class","bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg"),c(D,"type","submit"),c(S,"class","col-span-1 md:col-span-12 flex justify-center"),c(l,"class","grid grid-cols-1 md:grid-cols-12 gap-x-8"),c($,"class","w-full bg-white rounded-xl p-6"),c(r,"class","container md:max-w-5xl px-4 mx-auto")},m(e,_){$e(e,r,_),i(r,n),i(n,u),i(u,a),i(r,j),i(r,$),i($,l),i(l,y),C(d,y,null),i(l,k),i(l,E),C(p,E,null),i(l,w),i(l,I),C(f,I,null),i(l,W),i(l,q),C(b,q,null),i(l,Q),i(l,S),i(S,D),i(D,X),M=!0,Y||(Z=ye(l,"submit",Ee(t[5])),Y=!0)},p(e,[_]){const x={};!s&&_&1&&(s=!0,x.value=e[0].first_name,z(()=>s=!1)),d.$set(x);const T={};!B&&_&1&&(B=!0,T.value=e[0].last_name,z(()=>B=!1)),p.$set(T);const L={};!V&&_&1&&(V=!0,L.value=e[0].email,z(()=>V=!1)),f.$set(L);const o={};!J&&_&1&&(J=!0,o.value=e[0].phone,z(()=>J=!1)),b.$set(o)},i(e){M||(G(d.$$.fragment,e),G(p.$$.fragment,e),G(f.$$.fragment,e),G(b.$$.fragment,e),M=!0)},o(e){H(d.$$.fragment,e),H(p.$$.fragment,e),H(f.$$.fragment,e),H(b.$$.fragment,e),M=!1},d(e){e&&m(r),K(d),K(p),K(f),K(b),Y=!1,Z()}}}function Se(t,r,n){let u={first_name:null,last_name:null,email:null,phone:null},a={};Ie(async()=>{document.querySelectorAll("input"),ce.set(!0);let s=we(Ve),k={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s.token}`}};const E=`${apiBackend}/api/employees/${s.body._id}`,p=await fetch(E,k);let w=(await p.json()).Employee,I={team:w.team.map(V=>V.title),roles:w.roles.map(V=>V.name)},f=Object.assign(w,I);p.ok&&ce.set(!1),n(0,a=f)});function j(s){t.$$.not_equal(a.first_name,s)&&(a.first_name=s,n(0,a),n(7,u))}function $(s){t.$$.not_equal(a.last_name,s)&&(a.last_name=s,n(0,a),n(7,u))}function l(s){t.$$.not_equal(a.email,s)&&(a.email=s,n(0,a),n(7,u))}function y(s){t.$$.not_equal(a.phone,s)&&(a.phone=s,n(0,a),n(7,u))}const d=s=>{console.log("PAS\xD3")};return n(0,a=u),console.log("isValid",De),[a,j,$,l,y,d]}class Pe extends he{constructor(r){super(),ge(this,r,Se,qe,be,{})}}export{Pe as default};
