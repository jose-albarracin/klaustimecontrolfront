import{K as ge,S as ve,i as he,s as be,T as Q,U as X,e as f,w as B,k as M,t as ue,c as _,a as g,x as O,d as c,m as U,h as de,b as d,g as $e,M as l,y as C,I as ye,V as we,W as Y,q as F,o as R,B as z,v as xe}from"../../../chunks/index-19f775f8.js";import{a as ce,u as Ee}from"../../../chunks/login-868b565c.js";import{I as Z}from"../../../chunks/inputs-cc0c41a8.js";import{I as pe}from"../../../chunks/inline-svg-44d6d57a.js";import{u as Ie}from"../../../chunks/teams-7b63fc38.js";import{f as je}from"../../../chunks/employees-cfd8ebbd.js";import"../../../chunks/index-3cd74ee4.js";function De(s){let o,a,i,n,v,r,E,I,$,u,y,p,t,j,V,h,H,K,k,b,L,N,q,w,D,W,G,J,ee;n=new pe({props:{class:"w-[20px] h-[20px]",src:"/icons/arrow-left-solid.svg"}});function me(e){s[5](e)}let te={class:"mb-4",label:"Title",name:"title",type:"text",required:!0};s[1].title!==void 0&&(te.value=s[1].title),p=new Z({props:te}),Q.push(()=>X(p,"value",me));function fe(e){s[6](e)}let se={class:"mb-4",label:"Description",textarea:!0,name:"description",rows:"6",required:!0};s[1].description!==void 0&&(se.value=s[1].description),h=new Z({props:se}),Q.push(()=>X(h,"value",fe));function _e(e){s[7](e)}let ae={class:"mb-4",label:"Admin",select:!0,multiselect:null,options:s[3]};return s[2]!==void 0&&(ae.selected=s[2]),b=new Z({props:ae}),Q.push(()=>X(b,"selected",_e)),D=new pe({props:{class:"text-white w-[15px] h-fit mr-3",src:"/icons/floppy-disk-solid.svg"}}),{c(){o=f("div"),a=f("div"),i=f("a"),B(n.$$.fragment),v=M(),r=f("h1"),E=ue("Edit Team"),I=M(),$=f("div"),u=f("form"),y=f("div"),B(p.$$.fragment),j=M(),V=f("div"),B(h.$$.fragment),K=M(),k=f("div"),B(b.$$.fragment),N=M(),q=f("div"),w=f("button"),B(D.$$.fragment),W=ue("Save"),this.h()},l(e){o=_(e,"DIV",{class:!0});var m=g(o);a=_(m,"DIV",{class:!0});var T=g(a);i=_(T,"A",{href:!0,class:!0});var A=g(i);O(n.$$.fragment,A),A.forEach(c),v=U(T),r=_(T,"H1",{class:!0});var S=g(r);E=de(S,"Edit Team"),S.forEach(c),T.forEach(c),I=U(m),$=_(m,"DIV",{class:!0});var ne=g($);u=_(ne,"FORM",{class:!0});var x=g(u);y=_(x,"DIV",{class:!0});var ie=g(y);O(p.$$.fragment,ie),ie.forEach(c),j=U(x),V=_(x,"DIV",{class:!0});var re=g(V);O(h.$$.fragment,re),re.forEach(c),K=U(x),k=_(x,"DIV",{class:!0});var le=g(k);O(b.$$.fragment,le),le.forEach(c),N=U(x),q=_(x,"DIV",{class:!0});var oe=g(q);w=_(oe,"BUTTON",{class:!0,type:!0});var P=g(w);O(D.$$.fragment,P),W=de(P,"Save"),P.forEach(c),oe.forEach(c),x.forEach(c),ne.forEach(c),m.forEach(c),this.h()},h(){d(i,"href","/teams"),d(i,"class","flex items-center justify-center cursor-pointer text-white bg-primary px-3 py-3 rounded-full shadow-sm"),d(r,"class","text-secondary text-3xl font-bold ml-6"),d(a,"class","flex justify-start items-center my-12 pb-6 border-b-[1px] border-tertiary/30"),d(y,"class","col-span-1 md:col-span-12"),d(V,"class","col-span-1 md:col-span-12"),d(k,"class","col-span-1 md:col-span-12 mb-4"),d(w,"class","bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center"),d(w,"type","submit"),d(q,"class","col-span-1 md:col-span-12 flex justify-center"),d(u,"class","grid grid-cols-1 md:grid-cols-12 gap-x-8"),d($,"class","w-full bg-white rounded-xl p-6 shadow-sm"),d(o,"class","container md:max-w-5xl px-6 mx-auto h-max")},m(e,m){$e(e,o,m),l(o,a),l(a,i),C(n,i,null),l(a,v),l(a,r),l(r,E),l(o,I),l(o,$),l($,u),l(u,y),C(p,y,null),l(u,j),l(u,V),C(h,V,null),l(u,K),l(u,k),C(b,k,null),l(u,N),l(u,q),l(q,w),C(D,w,null),l(w,W),G=!0,J||(ee=ye(u,"submit",we(s[8])),J=!0)},p(e,[m]){const T={};!t&&m&2&&(t=!0,T.value=e[1].title,Y(()=>t=!1)),p.$set(T);const A={};!H&&m&2&&(H=!0,A.value=e[1].description,Y(()=>H=!1)),h.$set(A);const S={};m&8&&(S.options=e[3]),!L&&m&4&&(L=!0,S.selected=e[2],Y(()=>L=!1)),b.$set(S)},i(e){G||(F(n.$$.fragment,e),F(p.$$.fragment,e),F(h.$$.fragment,e),F(b.$$.fragment,e),F(D.$$.fragment,e),G=!0)},o(e){R(n.$$.fragment,e),R(p.$$.fragment,e),R(h.$$.fragment,e),R(b.$$.fragment,e),R(D.$$.fragment,e),G=!1},d(e){e&&c(o),z(n),z(p),z(h),z(b),z(D),J=!1,ee()}}}async function Oe({fetch:s,params:o}){ce.set(!0);let a=o.id,i=ge(Ee),n={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${i.token}`}};const v=`${apiBackend}/api/teams/${a}`,r=await s(v,n);let I=(await r.json()).Team;if(r.ok)return ce.set(!1),{props:{results:I}}}function Te(s,o,a){let{results:i}=o,n={},v=[],r=[],E=[];xe(async()=>{a(4,v=await je())});function I(){let t={};return t.label=`${i.admin?i.admin.first_name:""} ${i.admin?i.admin.last_name:""}`,t.value=i.admin?i.admin._id:"",t}n=i;function $(t){s.$$.not_equal(n.title,t)&&(n.title=t,a(1,n),a(2,r))}function u(t){s.$$.not_equal(n.description,t)&&(n.description=t,a(1,n),a(2,r))}function y(t){r=t,a(2,r)}const p=async()=>{await Ie(n,i._id)};return s.$$set=t=>{"results"in t&&a(0,i=t.results)},s.$$.update=()=>{s.$$.dirty&6&&a(1,n=Object.assign(n,{admin:r[0]?r[0].value:""})),s.$$.dirty&16&&a(3,E=v.map(function(t){let j={};return j.label=`${t.first_name} ${t.last_name}`,j.value=t._id,j}))},a(2,r=[I()]),[i,n,r,E,v,$,u,y,p]}class Ue extends ve{constructor(o){super(),he(this,o,Te,De,be,{results:0})}}export{Ue as default,Oe as load};
