import{S as ve,i as ge,s as be,T as U,U as A,l as f,r as pe,a as B,w as F,m as _,n as h,u as me,h as m,c as O,x as M,p as c,b as $e,O as i,y as N,I as ye,W as C,f as z,t as G,B as H,o as Ee,K as Ie,V as we}from"../chunks/index-213b7a90.js";import{b as ce,u as Ve,a as De}from"../chunks/login-3638f510.js";import{I as K}from"../chunks/inputs-abead974.js";import"../chunks/index-01a17379.js";import"../chunks/inline-svg-eb4ea3fd.js";function xe(a){let u,n,p,s,x,$,l,y,t,j,q,g,v,I,S,E,r,R,W,V,b,J,Q,D,w,X,P,Y,Z;function de(e){a[1](e)}let ee={class:"mb-4",label:"First Name",name:"first_name",type:"text",minLength:"3"};a[0].first_name!==void 0&&(ee.value=a[0].first_name),t=new K({props:ee}),U.push(()=>A(t,"value",de));function fe(e){a[2](e)}let te={class:"mb-4",label:"Last Name",name:"last_name",type:"text",minLength:"3"};a[0].last_name!==void 0&&(te.value=a[0].last_name),v=new K({props:te}),U.push(()=>A(v,"value",fe));function _e(e){a[3](e)}let ae={class:"mb-4",label:"Email",name:"email",type:"email",minLength:"3",disabled:!0};a[0].email!==void 0&&(ae.value=a[0].email),r=new K({props:ae}),U.push(()=>A(r,"value",_e));function he(e){a[4](e)}let se={class:"mb-4",label:"Phone",name:"phone",type:"number",minLength:"3"};return a[0].phone!==void 0&&(se.value=a[0].phone),b=new K({props:se}),U.push(()=>A(b,"value",he)),{c(){u=f("div"),n=f("div"),p=f("h1"),s=pe("Profile"),x=B(),$=f("div"),l=f("form"),y=f("div"),F(t.$$.fragment),q=B(),g=f("div"),F(v.$$.fragment),S=B(),E=f("div"),F(r.$$.fragment),W=B(),V=f("div"),F(b.$$.fragment),Q=B(),D=f("div"),w=f("button"),X=pe("Update"),this.h()},l(e){u=_(e,"DIV",{class:!0});var d=h(u);n=_(d,"DIV",{class:!0});var T=h(n);p=_(T,"H1",{class:!0});var k=h(p);s=me(k,"Profile"),k.forEach(m),T.forEach(m),x=O(d),$=_(d,"DIV",{class:!0});var L=h($);l=_(L,"FORM",{class:!0});var o=h(l);y=_(o,"DIV",{class:!0});var ne=h(y);M(t.$$.fragment,ne),ne.forEach(m),q=O(o),g=_(o,"DIV",{class:!0});var le=h(g);M(v.$$.fragment,le),le.forEach(m),S=O(o),E=_(o,"DIV",{class:!0});var ie=h(E);M(r.$$.fragment,ie),ie.forEach(m),W=O(o),V=_(o,"DIV",{class:!0});var re=h(V);M(b.$$.fragment,re),re.forEach(m),Q=O(o),D=_(o,"DIV",{class:!0});var oe=h(D);w=_(oe,"BUTTON",{class:!0,type:!0});var ue=h(w);X=me(ue,"Update"),ue.forEach(m),oe.forEach(m),o.forEach(m),L.forEach(m),d.forEach(m),this.h()},h(){c(p,"class","text-secondary text-3xl font-bold"),c(n,"class","flex justify-start my-12 pb-6 border-b-[1px] border-tertiary/30"),c(y,"class","col-span-1 md:col-span-6"),c(g,"class","col-span-1 md:col-span-6"),c(E,"class","col-span-1 md:col-span-6"),c(V,"class","col-span-1 md:col-span-6"),c(w,"class","bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg"),c(w,"type","submit"),c(D,"class","col-span-1 md:col-span-12 flex justify-center"),c(l,"class","grid grid-cols-1 md:grid-cols-12 gap-x-8"),c($,"class","w-full bg-white rounded-xl p-6"),c(u,"class","container md:max-w-5xl px-4 mx-auto")},m(e,d){$e(e,u,d),i(u,n),i(n,p),i(p,s),i(u,x),i(u,$),i($,l),i(l,y),N(t,y,null),i(l,q),i(l,g),N(v,g,null),i(l,S),i(l,E),N(r,E,null),i(l,W),i(l,V),N(b,V,null),i(l,Q),i(l,D),i(D,w),i(w,X),P=!0,Y||(Z=ye(l,"submit",we(je)),Y=!0)},p(e,[d]){const T={};!j&&d&1&&(j=!0,T.value=e[0].first_name,C(()=>j=!1)),t.$set(T);const k={};!I&&d&1&&(I=!0,k.value=e[0].last_name,C(()=>I=!1)),v.$set(k);const L={};!R&&d&1&&(R=!0,L.value=e[0].email,C(()=>R=!1)),r.$set(L);const o={};!J&&d&1&&(J=!0,o.value=e[0].phone,C(()=>J=!1)),b.$set(o)},i(e){P||(z(t.$$.fragment,e),z(v.$$.fragment,e),z(r.$$.fragment,e),z(b.$$.fragment,e),P=!0)},o(e){G(t.$$.fragment,e),G(v.$$.fragment,e),G(r.$$.fragment,e),G(b.$$.fragment,e),P=!1},d(e){e&&m(u),H(t),H(v),H(r),H(b),Y=!1,Z()}}}const je=a=>{};function qe(a,u,n){let p={first_name:null,last_name:null,email:null,phone:null},s={};Ee(async()=>{document.querySelectorAll("input"),ce.set(!0);let t=Ie(Ve),j={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t.token}`}};const q=`${De}/api/employees/${t.body._id}`,g=await fetch(q,j);let I=(await g.json()).Employee,S={team:I.team.map(r=>r.title),roles:I.roles.map(r=>r.name)},E=Object.assign(I,S);g.ok&&ce.set(!1),n(0,s=E)});function x(t){a.$$.not_equal(s.first_name,t)&&(s.first_name=t,n(0,s),n(6,p))}function $(t){a.$$.not_equal(s.last_name,t)&&(s.last_name=t,n(0,s),n(6,p))}function l(t){a.$$.not_equal(s.email,t)&&(s.email=t,n(0,s),n(6,p))}function y(t){a.$$.not_equal(s.phone,t)&&(s.phone=t,n(0,s),n(6,p))}return n(0,s=p),[s,x,$,l,y]}class Oe extends ve{constructor(u){super(),ge(this,u,qe,xe,be,{})}}export{Oe as default};
