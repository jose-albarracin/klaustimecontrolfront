import{K as Ee,S as Ie,i as De,s as je,T as N,U as W,l as m,w as T,a as B,r as _e,m as f,n as _,x as H,h as d,c as O,u as ge,p,b as xe,O as i,y as F,I as Ae,V as Ve,W as J,f as L,t as U,B as C,o as Se}from"../../../chunks/index-213b7a90.js";import{a as qe,b as he,u as ke}from"../../../chunks/login-3638f510.js";import{I as P}from"../../../chunks/inputs-abead974.js";import{I as ve}from"../../../chunks/inline-svg-eb4ea3fd.js";import{u as Te}from"../../../chunks/hours-62e4a776.js";import{f as Be}from"../../../chunks/employees-06ed2a42.js";import"../../../chunks/index-01a17379.js";function He(s){let u,t,r,a,y,l,A,I,h,o,D,g,M,n,v,$,Q,X,S,w,Y,Z,q,E,ee,te,k,j,V,se,K,ne,re;a=new ve({props:{class:"w-[20px] h-[20px]",src:"/icons/arrow-left-solid.svg"}});function be(e){s[5](e)}let le={class:"mb-4",label:"Employee",select:!0,multiselect:null,options:s[3]};s[2]!==void 0&&(le.selected=s[2]),g=new P({props:le}),N.push(()=>W(g,"selected",be));function ye(e){s[6](e)}let oe={class:"mb-4",label:"Date",name:"date",type:"date",required:!0,disabled:!0};s[1].createdAt!==void 0&&(oe.value=s[1].createdAt),$=new P({props:oe}),N.push(()=>W($,"value",ye));function $e(e){s[7](e)}let ie={class:"mb-4",label:"Start",name:"start",type:"number",minLength:"1",required:!0};s[1].start!==void 0&&(ie.value=s[1].start),w=new P({props:ie}),N.push(()=>W(w,"value",$e));function we(e){s[8](e)}let ue={class:"mb-4",label:"End",name:"end",type:"number",minLength:"1",required:!0};return s[1].end!==void 0&&(ue.value=s[1].end),E=new P({props:ue}),N.push(()=>W(E,"value",we)),V=new ve({props:{class:"text-white w-[15px] h-fit mr-3",src:"/icons/floppy-disk-solid.svg"}}),{c(){u=m("div"),t=m("div"),r=m("a"),T(a.$$.fragment),y=B(),l=m("h1"),A=_e("Edit Hour"),I=B(),h=m("div"),o=m("form"),D=m("div"),T(g.$$.fragment),n=B(),v=m("div"),T($.$$.fragment),X=B(),S=m("div"),T(w.$$.fragment),Z=B(),q=m("div"),T(E.$$.fragment),te=B(),k=m("div"),j=m("button"),T(V.$$.fragment),se=_e("Save"),this.h()},l(e){u=f(e,"DIV",{class:!0});var c=_(u);t=f(c,"DIV",{class:!0});var x=_(t);r=f(x,"A",{href:!0,class:!0});var R=_(r);H(a.$$.fragment,R),R.forEach(d),y=O(x),l=f(x,"H1",{class:!0});var z=_(l);A=ge(z,"Edit Hour"),z.forEach(d),x.forEach(d),I=O(c),h=f(c,"DIV",{class:!0});var G=_(h);o=f(G,"FORM",{class:!0});var b=_(o);D=f(b,"DIV",{class:!0});var pe=_(D);H(g.$$.fragment,pe),pe.forEach(d),n=O(b),v=f(b,"DIV",{class:!0});var de=_(v);H($.$$.fragment,de),de.forEach(d),X=O(b),S=f(b,"DIV",{class:!0});var ce=_(S);H(w.$$.fragment,ce),ce.forEach(d),Z=O(b),q=f(b,"DIV",{class:!0});var me=_(q);H(E.$$.fragment,me),me.forEach(d),te=O(b),k=f(b,"DIV",{class:!0});var fe=_(k);j=f(fe,"BUTTON",{class:!0,type:!0});var ae=_(j);H(V.$$.fragment,ae),se=ge(ae,"Save"),ae.forEach(d),fe.forEach(d),b.forEach(d),G.forEach(d),c.forEach(d),this.h()},h(){p(r,"href","/hours"),p(r,"class","flex items-center justify-center cursor-pointer text-white bg-primary px-3 py-3 rounded-full shadow-sm"),p(l,"class","text-secondary text-3xl font-bold ml-6"),p(t,"class","flex justify-start items-center my-12 pb-6 border-b-[1px] border-tertiary/30"),p(D,"class","col-span-1 md:col-span-6 mb-4"),p(v,"class","col-span-1 md:col-span-6"),p(S,"class","col-span-1 md:col-span-6"),p(q,"class","col-span-1 md:col-span-6"),p(j,"class","bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center"),p(j,"type","submit"),p(k,"class","col-span-1 md:col-span-12 flex justify-center"),p(o,"class","grid grid-cols-1 md:grid-cols-12 gap-x-8"),p(h,"class","w-full bg-white rounded-xl p-6 shadow-lg mb-6"),p(u,"class","container px-6 mx-auto md:max-w-5xl h-max")},m(e,c){xe(e,u,c),i(u,t),i(t,r),F(a,r,null),i(t,y),i(t,l),i(l,A),i(u,I),i(u,h),i(h,o),i(o,D),F(g,D,null),i(o,n),i(o,v),F($,v,null),i(o,X),i(o,S),F(w,S,null),i(o,Z),i(o,q),F(E,q,null),i(o,te),i(o,k),i(k,j),F(V,j,null),i(j,se),K=!0,ne||(re=Ae(o,"submit",Ve(s[9])),ne=!0)},p(e,[c]){const x={};c&8&&(x.options=e[3]),!M&&c&4&&(M=!0,x.selected=e[2],J(()=>M=!1)),g.$set(x);const R={};!Q&&c&2&&(Q=!0,R.value=e[1].createdAt,J(()=>Q=!1)),$.$set(R);const z={};!Y&&c&2&&(Y=!0,z.value=e[1].start,J(()=>Y=!1)),w.$set(z);const G={};!ee&&c&2&&(ee=!0,G.value=e[1].end,J(()=>ee=!1)),E.$set(G)},i(e){K||(L(a.$$.fragment,e),L(g.$$.fragment,e),L($.$$.fragment,e),L(w.$$.fragment,e),L(E.$$.fragment,e),L(V.$$.fragment,e),K=!0)},o(e){U(a.$$.fragment,e),U(g.$$.fragment,e),U($.$$.fragment,e),U(w.$$.fragment,e),U(E.$$.fragment,e),U(V.$$.fragment,e),K=!1},d(e){e&&d(u),C(a),C(g),C($),C(w),C(E),C(V),ne=!1,re()}}}async function Ge({fetch:s,params:u}){he.set(!0);let t=u.id,r=Ee(ke),a={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r.token}`}};const y=`${qe}/api/hours/${t}`,l=await s(y,a),I=(await l.json()).Hour,h={createdAt:I.createdAt.split("T")[0]},o=Object.assign(I,h);if(l.ok)return he.set(!1),{props:{results:o}}}function Oe(s,u,t){let{results:r}=u,a={},y=[],l=[],A=[];Se(async()=>{t(4,y=await Be())});function I(){let n={};return n.label=`${r.employee?r.employee.first_name:""} ${r.employee?r.employee.last_name:""}`,n.value=r.employee?r.employee._id:"",n}function h(n){l=n,t(2,l)}function o(n){s.$$.not_equal(a.createdAt,n)&&(a.createdAt=n,t(1,a),t(2,l),t(0,r))}function D(n){s.$$.not_equal(a.start,n)&&(a.start=n,t(1,a),t(2,l),t(0,r))}function g(n){s.$$.not_equal(a.end,n)&&(a.end=n,t(1,a),t(2,l),t(0,r))}const M=async()=>{await Te(a,r._id)};return s.$$set=n=>{"results"in n&&t(0,r=n.results)},s.$$.update=()=>{s.$$.dirty&6&&t(1,a=Object.assign(a,{employee:l[0]?l[0].value:""})),s.$$.dirty&1&&t(1,a=r),s.$$.dirty&16&&t(3,A=y.map(function(n){let v={};return v.label=`${n.first_name} ${n.last_name}`,v.value=n._id,v}))},t(2,l=[I()]),[r,a,l,A,y,h,o,D,g,M]}class Ke extends Ie{constructor(u){super(),De(this,u,Oe,He,je,{results:0})}}export{Ke as default,Ge as load};
